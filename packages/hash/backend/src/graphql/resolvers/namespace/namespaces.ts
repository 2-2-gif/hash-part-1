import { Resolver } from "../../autoGeneratedTypes";
import { DbOrg, DbUser } from "../../../types/dbTypes";
import { GraphQLContext } from "../../context";

export const namespaces: Resolver<
  Promise<(DbUser | DbOrg)[]>,
  {},
  GraphQLContext,
  {}
> = async (_, {}, { dataSources }) => {
  const entities = await dataSources.db.getNamespaceEntities();
  return entities as (DbUser | DbOrg)[];
};
