import { Resolver } from "../../autoGeneratedTypes";
import { DbOrg, DbUser } from "../../../types/dbTypes";
import { entities } from "../../../mockData/entities";
import { GraphQLContext } from "../../context";

export const namespaces: Resolver<
  Promise<(DbUser | DbOrg)[]>,
  {},
  GraphQLContext,
  {}
> = async (_, {}, { dataSources }) => {
  const dbNamespaces = (await entities.filter(
    (entity) => entity.type === "User" || entity.type === "Org"
  )) as (DbUser | DbOrg)[];

  return dbNamespaces;
};
