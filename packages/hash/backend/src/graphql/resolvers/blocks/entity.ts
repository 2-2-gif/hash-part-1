import { ApolloError } from "apollo-server-express";
import { DbBlock } from "../../../types/dbTypes";
import { Block, Resolver } from "../../autoGeneratedTypes";
import { entities } from "../../../mockData/entities";

export const entity: Resolver<Block["entity"], DbBlock> = ({ entityId }) => {
  const foundEntity = entities.find(entity => entity.id === entityId);

  if (!foundEntity) {
    throw new ApolloError(`Could not find block entity with id ${entityId}`);
  }

  return foundEntity;
};