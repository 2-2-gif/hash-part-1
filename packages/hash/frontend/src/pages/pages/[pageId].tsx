import { VoidFunctionComponent } from "react";

import { useRouter } from "next/router";
import { useQuery } from "@apollo/client";
import { getPageQuery } from "../../graphql/queries/page.queries";
import {
  GetPageQuery,
  GetPageQueryVariables,
} from "../../graphql/autoGeneratedTypes";

export const Page: VoidFunctionComponent = () => {
  const { query } = useRouter();
  const pageId = query.pageId as string;

  const { data } = useQuery<GetPageQuery, GetPageQueryVariables>(getPageQuery, {
    variables: { pageId },
  });

  return (<pre>{JSON.stringify(data, undefined, 4)}</pre>);
};

export default Page;